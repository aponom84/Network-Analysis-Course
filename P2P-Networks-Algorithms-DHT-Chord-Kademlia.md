# –ê–ª–≥–æ—Ä–∏—Ç–º—ã P2P —Å–µ—Ç–µ–π**  
### *DHT, Chord, Kademlia –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Å–µ—Ç–µ–π*

## **1. –†–∞–Ω–Ω–∏–µ P2P —Å–µ—Ç–∏ –∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–∏—Å–∫–∞**

### **–ü–µ—Ä–≤—ã–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è P2P: Napster, Gnutella, Freenet**

#### Napster (1999) ‚Äî –≥–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å: —Å–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, **–∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã —É –∫–æ–≥–æ –µ—Å—Ç—å**.
- –§–∞–π–ª—ã –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –Ω–∞–ø—Ä—è–º—É—é –º–µ–∂–¥—É –ø–∏—Ä–∞–º–∏ (peer-to-peer).
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫.
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –±—ã–ª **—É–∑–∫–∏–º –º–µ—Å—Ç–æ–º** –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ —É—è–∑–≤–∏–º ‚Äî –∑–∞–∫—Ä—ã—Ç –≤ 2001 –≥–æ–¥—É.

#### Gnutella (2000) ‚Äî –ø–µ—Ä–≤–∞—è —á–∏—Å—Ç–∞—è P2P —Å–µ—Ç—å
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è: **–Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**.
- –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª —á–µ—Ä–µ–∑ **—Ñ–ª—É–¥–∏–Ω–≥ (flooding)** –∏–ª–∏ **broadcast**:
  - –ü–∏—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–ª –∑–∞–ø—Ä–æ—Å —Ç–∏–ø–∞ `QUERY: "song.mp3"` –≤—Å–µ–º —Å–≤–æ–∏–º —Å–æ—Å–µ–¥—è–º.
  - –ö–∞–∂–¥—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Å—ã–ª–∞–ª –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ TTL ‚Äî time to live).
  - –ï—Å–ª–∏ —É –∫–æ–≥–æ-—Ç–æ –±—ã–ª —Ñ–∞–π–ª, –æ–Ω –æ—Ç–≤–µ—á–∞–ª –æ–±—Ä–∞—Ç–Ω–æ: `QUERY_HIT`.
- –ü—Ä–∏–º–µ—Ä: —Å–µ—Ç—å –∏–∑ 1000 —É–∑–ª–æ–≤ –º–æ–≥–ª–∞ –ø–æ—Ä–æ–¥–∏—Ç—å –¥–æ 10‚ÄØ000 —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

#### –ü—Ä–æ–±–ª–µ–º—ã broadcast-–ø–æ–¥—Ö–æ–¥–∞:
| –ü—Ä–æ–±–ª–µ–º–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------|
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | –ü—Ä–∏ —Ä–æ—Å—Ç–µ —Å–µ—Ç–∏ ‚Äî —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ |
| **–®—É–º–æ–≤–æ–π —Ñ–æ–Ω** | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (¬´—à—É–º¬ª) |
| **–ó–∞–¥–µ—Ä–∂–∫–∏** | –î–æ–ª–≥–∏–π –ø–æ–∏—Å–∫, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –±–æ–ª—å—à–∏—Ö —Å–µ—Ç—è—Ö |
| **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —É–∑–ª–æ–≤ –Ω–µ –∏–º–µ—é—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ |

> **–í—ã–≤–æ–¥**: Broadcast —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–∞–ª—ã—Ö —Å–µ—Ç—è—Ö, –Ω–æ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è. –≠—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö P2P —Å–µ—Ç–µ–π** —Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ–∏—Å–∫–æ–º ‚Äî —Ç–∞–∫–∏—Ö –∫–∞–∫ DHT.

---

## **2. –í–≤–µ–¥–µ–Ω–∏–µ –≤ P2P —Å–µ—Ç–∏**

### –ß—Ç–æ —Ç–∞–∫–æ–µ P2P?
- **Peer-to-Peer (P2P)** ‚Äî —Å–µ—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —É—á–∞—Å—Ç–Ω–∏–∫–∏ (–ø–∏—Ä–∏–Ω–≥–æ–≤—ã–µ —É–∑–ª—ã) –Ω–∞–ø—Ä—è–º—É—é –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
  - –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
  - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
  - –ù–∏–∑–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ü—Ä–∏–º–µ—Ä—ã: BitTorrent, Skype (—Ä–∞–Ω–Ω–∏–µ –≤–µ—Ä—Å–∏–∏), IPFS, Ethereum

### –¢–∏–ø—ã P2P —Å–µ—Ç–µ–π:
1. **–ß–∏—Å—Ç—ã–µ P2P**: –≤—Å–µ —É–∑–ª—ã —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Gnutella)
2. **–ì–∏–±—Ä–∏–¥–Ω—ã–µ P2P**: –µ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Napster)
3. **–°—É–ø–µ—Ä–ø–∏—Ä–∏–Ω–≥–æ–≤—ã–µ (Hybrid)**: —á–∞—Å—Ç—å —É–∑–ª–æ–≤ ‚Äî "—Å—É–ø–µ—Ä—É–∑–ª—ã", –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, Skype)

> ‚ö†Ô∏è –ò–¥–µ—è —Ä–∞–∑–≤–∏—Ç–∏—è: –æ—Ç **–Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π —Å broadcast** ‚Üí –∫ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º DHT-—Å–µ—Ç—è–º** —Å —Å –º–µ–Ω–µ–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ –∑–∞—Ç—Ä–∞—Ç–Ω—ã–º –ø–æ–∏—Å–∫–æ–º.  

---

## **3. –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã (DHT)**

### –ß—Ç–æ —Ç–∞–∫–æ–µ DHT?
- **Distributed Hash Table (DHT)** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ø–æ –º–Ω–æ–∂–µ—Å—Ç–≤—É —É–∑–ª–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–∞—Ä—ã `–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ` –≤ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏.
- –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è: –∫–∞–∂–¥—ã–π —É–∑–µ–ª –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º–æ–π –ø–æ —Ö–µ—à—É –∫–ª—é—á–∞.

### –°–≤–æ–π—Å—Ç–≤–∞ DHT:
- **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É
- **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—Ç–∫–∞–∑–∞–º**: –ø–æ—Ç–µ—Ä—è —É–∑–ª–∞ –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞**: –ø–æ–∏—Å–∫ –∑–∞ O(log N) —à–∞–≥–æ–≤ (–≤–º–µ—Å—Ç–æ O(N) –ø—Ä–∏ broadcast)

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
- `put(key, value)` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
- `get(key)` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É

> üí° DHT —Ä–µ—à–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–∞–Ω–Ω–∏—Ö P2P: **–±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π —Ä–µ—Å—É—Ä—Å –±–µ–∑ —Ñ–ª—É–¥–∞**.

---

## **4. –ü—Ä–æ—Ç–æ–∫–æ–ª Chord**

### –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- **Chord** ‚Äî –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö DHT-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (MIT, 2001).
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–∫–æ–ª—å—Ü–µ–≤—É—é —Ç–æ–ø–æ–ª–æ–≥–∏—é** —É–∑–ª–æ–≤.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –í—Å–µ —É–∑–ª—ã –∏ –∫–ª—é—á–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ `[0, 2^m - 1]` —Å –ø–æ–º–æ—â—å—é —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, SHA-1).
2. –£–∑–ª—ã –∏ –∫–ª—é—á–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–º –∫–æ–ª—å—Ü–µ.
3. –ö–∞–∂–¥—ã–π –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —É–∑–ª–µ, —Å–ª–µ–¥—É—é—â–µ–º –ø–æ –∫–æ–ª—å—Ü—É –∑–∞ —Ö–µ—à–µ–º –∫–ª—é—á–∞ (successor).

### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
- **Finger table** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ –¥—Ä—É–≥–∏–µ —É–∑–ª—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.
  - –î–ª—è —É–∑–ª–∞ `n` –∏ –ø–æ–∑–∏—Ü–∏–∏ `i`: `finger[i] = successor(n + 2^(i-1))`
- –ü–æ–∏—Å–∫ –∫–ª—é—á–∞ `k`:
  - –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ª—é–±–æ–≥–æ —É–∑–ª–∞
  - –ù–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –±–ª–∏–∂–∞–π—à–µ–º—É –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫—É `k` –∏–∑ finger table
  - –ó–∞ `O(log N)` —à–∞–≥–æ–≤ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Ü–µ–ª–µ–≤–æ–π —É–∑–µ–ª

### –î–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞:
- –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
- –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- Finger table —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏/–≤—ã—Ö–æ–¥–µ —É–∑–ª–æ–≤
- –ù–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞ –ø–æ –∑–∞–¥–µ—Ä–∂–∫–∞–º –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö

---

## **5. –ü—Ä–æ—Ç–æ–∫–æ–ª Kademlia**

### –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ 2002 –≥–æ–¥—É (Petar Maymounkov, David Mazi√®res).
- –°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π DHT-–ø—Ä–æ—Ç–æ–∫–æ–ª: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **BitTorrent**, **Ethereum**, **IPFS**, **Libp2p**.

### –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏:
- **XOR-–º–µ—Ç—Ä–∏–∫–∞**: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è ID –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `d(a,b) = a XOR b`.
  - –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫: –µ—Å–ª–∏ `d(A,B) < d(A,C)`, —Ç–æ B ¬´–±–ª–∏–∂–µ¬ª –∫ A, —á–µ–º C.
  - XOR —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–ª–∏–Ω–µ –æ–±—â–µ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –≤–∏–¥–µ.

### Routing-—Ç–∞–±–ª–∏—Ü–∞ (k-buckets):
- –£–∑–µ–ª –¥–µ–ª–∏—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ ID –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ ¬´–∑–æ–Ω—ã¬ª –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö XOR).
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞ (–∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π) —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–æ `k` –±–ª–∏–∂–∞–π—à–∏—Ö —É–∑–ª–æ–≤ (–æ–±—ã—á–Ω–æ k=20).
- –ë–∞–∫–µ—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ: –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ —Å –Ω–æ–≤—ã–º —É–∑–ª–æ–º –æ–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–∞–∫–µ—Ç.

### –û–ø–µ—Ä–∞—Ü–∏–∏:
- **Find_Node(id)**: –∏—â–µ—Ç —É–∑–µ–ª —Å –∑–∞–¥–∞–Ω–Ω—ã–º ID, –∏—Å–ø–æ–ª—å–∑—É—è k-buckets –¥–ª—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫ —Ü–µ–ª–∏.
- **Find_Value(key)**: –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É; –∏–Ω–∞—á–µ –∏—â–µ—Ç—Å—è —É–∑–µ–ª, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –∫–ª—é—á.
- **Store(key, value)**: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É–∑–ª–∞—Ö, –±–ª–∏–∂–∞–π—à–∏—Ö –∫ `hash(key)`.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫: –æ–±—ã—á–Ω–æ –∑–∞ **log‚ÇÇ(N)** —à–∞–≥–æ–≤, —á–∞—Å—Ç–æ –º–µ–Ω—å—à–µ, —á–µ–º –≤ Chord.
- –ê–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü: —É–∑–ª—ã –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è (ping).
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –¥–∏–Ω–∞–º–∏–∫–µ: –Ω–æ–≤—ã–µ —É–∑–ª—ã –±—ã—Å—Ç—Ä–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—é—Ç—Å—è.
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞—Ç–∞–∫: –±–ª–∞–≥–æ–¥–∞—Ä—è XOR-–º–µ—Ç—Ä–∏–∫–µ —Å–ª–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–µ—Ç–∏.

---

## **6. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ç–æ—Ä—Ä–µ–Ω—Ç-—Å–µ—Ç–µ–π (BitTorrent)**

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **.torrent —Ñ–∞–π–ª**:
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: —Ö–µ—à-—Å—É–º–º—ã —á–∞–Ω–∫–æ–≤ (pieces), —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, —Ç—Ä–µ–∫–µ—Ä (–≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö)
2. **Tracker (—Ç—Ä–µ–∫–µ—Ä)**:
   - –°–µ—Ä–≤–µ—Ä, –¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –ø–∏—Ä–∞–º.
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **DHT –≤–º–µ—Å—Ç–æ —Ç—Ä–µ–∫–µ—Ä–∞**.
3. **–ü–∏—Ä—ã (peers)**:
   - –£—á–∞—Å—Ç–Ω–∏–∫–∏ –æ–±–º–µ–Ω–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏ —Ñ–∞–π–ª–∞.
4. **–°–∏–¥—ã (seeds)**:
   - –ü–∏—Ä—ã —Å –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–µ–π —Ñ–∞–π–ª–∞.
5. **–õ–∏—á (leecher)**:
   - –ü–∏—Ä, –∫–æ—Ç–æ—Ä—ã–π –µ—â—ë –∫–∞—á–∞–µ—Ç.

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±–º–µ–Ω:
- –§–∞–π–ª –¥–µ–ª–∏—Ç—Å—è –Ω–∞ **—á–∞–Ω–∫–∏ (pieces)** (–æ–±—ã—á–Ω–æ 256 –ö–ë ‚Äì 1 –ú–ë).
- –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ö–µ—à (–∏–∑ .torrent —Ñ–∞–π–ª–∞).
- –ü–∏—Ä—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É:
  ```
  handshake ‚Üí bitfield ‚Üí request ‚Üí piece
  ```
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è **"—Ä–∏—Ç–æ–π –∫–æ—Å—Ç–∏" (rarest first)** ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è —Ä–µ–¥–∫–∏–µ —á–∞–Ω–∫–∏, —á—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.

### –†–æ–ª—å DHT –≤ BitTorrent:
- –° 2005 –≥–æ–¥–∞ BitTorrent –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **DHT –Ω–∞ –æ—Å–Ω–æ–≤–µ Kademlia**.
- –ö–ª—é—á: `info_hash` (.torrent —Ñ–∞–π–ª–∞)
- –ó–Ω–∞—á–µ–Ω–∏–µ: —Å–ø–∏—Å–æ–∫ IP:–ø–æ—Ä—Ç –ø–∏—Ä–∞–º, —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Ä–∞–∑–¥–∞—á–µ
- –ü–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±—Ö–æ–¥–∏—Ç—å—Å—è –±–µ–∑ —Ç—Ä–µ–∫–µ—Ä–∞** ‚Äî —Å–µ—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π.

### Magnet-—Å—Å—ã–ª–∫–∏:
- –ü—Ä–∏–º–µ—Ä: `magnet:?xt=urn:btih:ABC123...`
- –°–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ `info_hash`
- –û—Å—Ç–∞–ª—å–Ω–æ–µ (–ø–∏—Ä—ã) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ DHT

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è:
- **PEX (Peer Exchange)** ‚Äî –ø–∏—Ä—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è —Å–ø–∏—Å–∫–∞–º–∏ –¥—Ä—É–≥–∏—Ö –ø–∏—Ä–∞–º –Ω–∞–ø—Ä—è–º—É—é
- **WebTorrent** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è BitTorrent –≤ –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ WebRTC

---

## **7. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Chord –∏ Kademlia**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | Chord                     | Kademlia                      |
|----------------------|---------------------------|-------------------------------|
| –ú–µ—Ç—Ä–∏–∫–∞              | –ö–æ–ª—å—Ü–µ–≤–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ      | XOR                           |
| –ü–æ–∏—Å–∫                | O(log N)                  | O(log N), –Ω–æ –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ |
| –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏| Finger table              | k-buckets                     |
| –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å         | –°—Ä–µ–¥–Ω—è—è                   | –í—ã—Å–æ–∫–∞—è                       |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏           | –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã     | BitTorrent, Ethereum, IPFS    |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏–∫–∏   | –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å—Ç—Ä–æ–µ–Ω–∏—è      | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ     |

---

## **8. –≠–≤–æ–ª—é—Ü–∏—è P2P: –æ—Ç broadcast –∫ DHT**

| –ü–æ–∫–æ–ª–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã        | –ú–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞       | –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è |
|----------|----------------|--------------------|------------------|-----------------|
| 1-–µ      | Napster        | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å | –í—ã—Å–æ–∫–∞—è          | –ù–µ—Ç             |
| 2-–µ      | Gnutella       | Broadcast/flooding | –ù–∏–∑–∫–∞—è           | –î–∞              |
| 3-–µ      | Chord, Kademlia| DHT (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫) | –í—ã—Å–æ–∫–∞—è | –î–∞              |

> **–¢—Ä–µ–Ω–¥**: –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç **–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π** –∫ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º DHT**, –≥–¥–µ –ø–æ–∏—Å–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º.

---

## **9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

### –ò—Ç–æ–≥–∏:
- –†–∞–Ω–Ω–∏–µ P2P —Å–µ—Ç–∏ (Gnutella) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **broadcast**, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ **–Ω–∏–∑–∫–æ–π –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏**.
- DHT ‚Äî —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, —Ä–µ—à–∞—é—â–∞—è –ø—Ä–æ–±–ª–µ–º—É –ø–æ–∏—Å–∫–∞ –≤ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ç—è—Ö.
- **Chord** ‚Äî –≤–∞–∂–Ω—ã–π –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ä—ã–≤, –Ω–æ —Å–ª–æ–∂–µ–Ω –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ.
- **Kademlia** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ –±–ª–∞–≥–æ–¥–∞—Ä—è **XOR-–º–µ—Ç—Ä–∏–∫–µ** –∏ **k-buckets**.
- **BitTorrent** ‚Äî —É—Å–ø–µ—à–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Kademlia –≤ –º–∞—Å—Å–æ–≤–æ–º P2P-–æ–±–º–µ–Ω–µ.

### –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DHT –≤ Web3 (IPFS, Filecoin, Ethereum)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∑–∞—â–∏—Ç–∞ –æ—Ç Sybil-–∞—Ç–∞–∫, poisoning)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ IoT-—Å–µ—Ç–µ–π
- –ù–∏–∑–∫–æ–ª–∞—Ç–µ–Ω—Ç–Ω—ã–µ DHT –¥–ª—è real-time –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

## **–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏**
1. –ü–æ—á–µ–º—É broadcast –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤ P2P —Å–µ—Ç—è—Ö?
2. –ö–∞–∫ DHT —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ–∏—Å–∫–∞ –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞?
3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –≤ Chord? –ü–æ—á–µ–º—É –æ–Ω –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–π?
4. –ß–µ–º XOR-–º–µ—Ç—Ä–∏–∫–∞ —É–¥–æ–±–Ω–∞ –≤ Kademlia?
5. –ö–∞–∫ BitTorrent –Ω–∞—Ö–æ–¥–∏—Ç –ø–∏—Ä—ã –±–µ–∑ —Ç—Ä–µ–∫–µ—Ä–∞?
6. –ü–æ—á–µ–º—É Kademlia —Å—Ç–∞–ª –±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º, —á–µ–º Chord?

---
